<%= turbo_frame_tag "books_result" do %>
  <div class="mt-6 space-y-6">
    <h2 class="text-xl font-bold mb-2">📖 Search Results</h2>

    <% if data.empty? %>
      <p class="text-gray-500">No books found for “<%= query %>”. Try a different keyword!</p>
    <% end %>

    <% data.each do |book| %>
      <div class="border rounded p-4 shadow bg-white space-y-2">
        <h3 class="text-lg font-semibold"><%= book["title"] %></h3>

        <% if book["author_name"] %>
          <p class="text-sm text-gray-700">👤 <%= book["author_name"].join(", ") %></p>
        <% end %>

        <% if book["first_publish_year"] %>
          <p class="text-sm text-gray-600">📅 First published: <%= book["first_publish_year"] %></p>
        <% end %>

        <% if book["cover_i"] %>
          <img src="https://covers.openlibrary.org/b/id/<%= book["cover_i"] %>-M.jpg"
               alt="Cover of <%= book["title"] %>"
               class="w-32 h-auto rounded shadow mt-2" />
        <% end %>
      </div>
    <% end %>
  </div>
<% end %>
